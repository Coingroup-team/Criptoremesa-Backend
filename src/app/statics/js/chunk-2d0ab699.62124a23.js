(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab699"],{"14bb":function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("b-row",{staticClass:"view mx-0"},[i("b-col",{staticClass:"min-vh-100",attrs:{cols:"12",md:"5"}},[i("InfoSide",{staticClass:"px-5",attrs:{title:"Verifica tu correo y teléfono móvil",subtitle:"Y comienza a enviar remesas a Venezuela desde el país de tu residencia",image:"verification",darkMode:!0}})],1),i("b-col",{staticClass:"flex flex-column\n            align-items-center\n            justify-content-center\n            p-5\n            min-vh-100",attrs:{cols:"12",md:"7"}},[i("div",{staticClass:"my-auto"},[i("div",{staticClass:"flex flex-column align-items-start"},[i("div",{staticClass:"title align-self-center align-self-lg-start"},[e._v("Correo electrónico")]),i("div",{staticClass:"mt-3 text-align-justify"},[e._v(" Pulsa 'enviar' y te enviaremos un código de 6 dígitos al correo electrónico "),i("span",{staticClass:"fw-bold"},[e._v(e._s(e.email))]),e._v(" para verificar tus datos. Tienes un tiempo máximo de 4 minutos para realizar esta operación. ")]),i("div",{staticClass:"\n                        flex-column\n                        flex-lg-row\n                        align-items-center\n                        justify-content-between\n                        mt-3\n                        mx-auto mx-lg-0\n                    "},[i("CodeInput",{staticClass:"input",class:e.inputDisabled?"disabled":"",attrs:{loading:!1,autoFocus:!1},on:{change:e.onChange,complete:e.onComplete}}),i("transition",{attrs:{name:"fade",mode:"out-in"}},[e.emailSended?i("Timer",{ref:"timer",staticClass:"mx-3 mt-3 mt-lg-0",attrs:{isCorrect:e.validCode,timeLimit:240},on:{showExpiredText:e.showExpiredText}}):e._e()],1),i("transition",{attrs:{name:"fade",mode:"out-in"}},[e.emailSended?e._e():i("div",{staticClass:"button primary-button--2 mx-0 mx-lg-3 mt-3 mt-lg-0",on:{click:function(t){return e.sendEmailRequest()}}},[e._v(" Enviar código ")])])],1),i("b-row",[e.expiredCode&e.emailSended?i("span",{staticClass:"fs-small mt-3 d-flex"},[e._v("El tiempo ha expirado, "),i("div",{staticClass:"ml-1 fs-small link",on:{click:function(t){return t.preventDefault(),e.sendEmailRequest()}}},[e._v("Reenviar código")])]):e.invalidCode&e.emailSended?i("span",{staticClass:"fs-small fc-red mt-3"},[e._v("Código inválido, intente de nuevo")]):i("span",{staticClass:"fs-small fc-red mt-3",staticStyle:{visibility:"hidden"}},[e._v("sdfsf")])])],1),i("div",{staticClass:"flex flex-column align-items-start mt-3"},[i("div",{staticClass:"title align-self-center align-self-lg-start"},[e._v("Telefono móvil")]),i("div",{staticClass:"mt-3 text-align-justify"},[e._v(" Pulsa 'enviar' y te enviaremos un código de 6 dígitos al número de celular "),i("span",{staticClass:"fw-bold"},[e._v(e._s(e.phone))]),e._v(" para verificar tus datos. Tienes un tiempo máximo de 4 minutos para realizar esta operación. ")]),i("div",{staticClass:"\n                        flex-column\n                        flex-lg-row\n                        align-items-center\n                        justify-content-between\n                        mt-3\n                        mx-auto mx-lg-0\n                    "},[i("CodeInput",{staticClass:"input",attrs:{loading:!1,autoFocus:!1},on:{change:e.onChange,complete:e.onComplete}}),i("transition",{attrs:{name:"fade",mode:"out-in"}}),i("transition",{attrs:{name:"fade",mode:"out-in"}},[i("div",{staticClass:"button primary-button--2 mx-0 mx-lg-3 mt-3 mt-lg-0"},[e._v(" Enviar código ")])])],1)])]),i("div",{staticClass:"\n                flex\n                flex-wrap flex-md-nowrap\n                align-items-center\n                justify-content-center\n                justify-content-md-end\n                align-self-end\n                mt-5\n                mx-auto mx-md-0\n            "},[i("div",{staticClass:"button secondary-button--1 mx-3 mt-3"},[e._v("Cancelar")]),i("div",{staticClass:"button primary-button--1--light mx-3 mt-3",on:{click:function(t){return e.$router.go(-1)}}},[e._v(" Regresar ")]),i("div",{staticClass:"button primary-button--1 mx-3 mt-3",on:{click:e.verif}},[i("b",[e._v("Verificar")])])])]),i("Loader",{ref:"loader"})],1)},a=[],n=i("9ab4"),o=i("1b40"),r=i("221d"),l=i("eb8d"),d=i.n(l),c=i("33d8"),m=i("0a4f"),u=i("9623"),p=i("ddd2"),f=i("6bf9"),v=i("0613"),h=i("3d48"),C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.email="",t.phone="",t.spinner=!1,t.$refs={},t.user=p["a"],t.inputDisabled=!1,t.expiredCode=!1,t.invalidCode=!1,t.validCode=!1,t.emailSended=!1,t}return Object(n["d"])(t,e),t.prototype.created=function(){this.userData.email_user?this.user=this.userData:this.$route.params.email?this.user.email_user=this.$route.params.email:this.$router.push({name:"Login"}),this.email=Object(c["d"])(this.user.email_user),this.phone=Object(c["e"])(this.user.main_phone_code,this.user.main_phone),this.$socket.client.emit("new_connection",this.user.email_user),this.$socket.client.on("verif_code_response",this.isCodeValid)},t.prototype.onChange=function(e){this.expiredCode=!1,this.invalidCode=!1},t.prototype.onComplete=function(e){this.expiredCode=!1,this.invalidCode=!1,this.$socket.client.emit("verif_code",{email_user:this.user.email_user,code:e})},t.prototype.isCodeValid=function(e){"Valid code"===e.msg?(this.inputDisabled=!0,this.validCode=!0):"Expired code"===e.msg?(this.expiredCode=!0,this.invalidCode=!1):"Invalid code"===e.msg?(this.invalidCode=!0,this.expiredCode=!1):"Time started"===e.msg&&(this.emailSended=!0)},t.prototype.showExpiredText=function(){this.expiredCode=!0},t.prototype.sendEmailRequest=function(){return Object(n["b"])(this,void 0,void 0,(function(){var e;return Object(n["e"])(this,(function(t){switch(t.label){case 0:return this.emailSended=!1,this.$refs.loader.showLoader(),[4,this.sendEmail({email_user:this.user.email_user,type:"register"})];case 1:return e=t.sent(),e.error?Object(c["f"])(e.msg,"error"):(Object(c["f"])("Correo enviado satisfactoriamente","success"),this.emailSended=!0),this.$refs.loader.hideLoader(),this.expiredCode=!1,[2]}}))}))},t.prototype.verif=function(){return Object(n["b"])(this,void 0,void 0,(function(){return Object(n["e"])(this,(function(e){switch(e.label){case 0:return this.validCode?(this.$refs.loader.showLoader(),[4,this.verifClient(this.user.email_user)]):[3,2];case 1:return e.sent()?(v["a"].state.auth.userSignUp=p["a"],this.$router.push("/registro/exitoso")):Object(c["f"])("Ha ocurrido un problema verificando la cuenta","error"),this.$refs.loader.hideLoader(),[3,3];case 2:Object(c["f"])("Debe ingresar los código solicitados","error"),e.label=3;case 3:return[2]}}))}))},Object(n["c"])([m["a"].Action(u["a"].actions.VERIF_CLIENT)],t.prototype,"verifClient",void 0),Object(n["c"])([m["a"].Getter(u["a"].getters.GET_REGISTER_USER_DATA)],t.prototype,"userData",void 0),Object(n["c"])([m["a"].Getter(u["a"].getters.GET_COUNTRY_PHONE_CODE)],t.prototype,"countryCode",void 0),Object(n["c"])([m["a"].Action(u["a"].actions.SEND_EMAIL)],t.prototype,"sendEmail",void 0),t=Object(n["c"])([Object(o["a"])({components:{InfoSide:r["a"],CodeInput:d.a,Loader:f["a"],Timer:h["a"]}})],t),t}(o["c"]),b=C,g=b,x=i("2877"),_=Object(x["a"])(g,s,a,!1,null,null,null);t["default"]=_.exports}}]);
//# sourceMappingURL=chunk-2d0ab699.62124a23.js.map