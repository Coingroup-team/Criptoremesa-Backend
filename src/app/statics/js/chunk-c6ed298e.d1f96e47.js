(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6ed298e"],{4417:function(e,t,s){"use strict";function r(e){for(var t="",s=new Uint8Array(e),r=s.byteLength,a=0;a<r;a++)t+=String.fromCharCode(s[a]);return window.btoa(t)}s.d(t,"a",(function(){return r}))},9613:function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var r=["image/jpg","image/jpeg","image/png","application/pdf","image/gif"]},e68c:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-row",{staticClass:"view view__header mx-0"},[s("b-col",{staticClass:"px-0",attrs:{cols:"12",md:"5"}},[s("InfoSide",{staticClass:"h-100",attrs:{title:"Verificación Avanzada",subtitle:"Completa el formulario de verificación de datos en el nivel intermedio y obten mejores beneficios",image:"verification",darkMode:!0}})],1),s("b-col",{staticClass:"py-5 p-0 p-sm-5 ",attrs:{cols:"12",md:"7"}},[s("b-row",[s("div",{staticClass:"subtitle fw-bold text-center mb-3 px-3"},[e._v("Por favor responda las siguientes preguntas para elevar su Perfil de Usuario a Nivel Avanzado")])]),s("b-row",[s("b-col",{staticClass:"mx-auto",attrs:{cols:"12",sm:"8"}},[s("Stepper",{ref:"step",model:{value:e.steps,callback:function(t){e.steps=t},expression:"steps"}})],1)],1),e.someFieldsRejected?s("b-alert",{staticClass:"fs-small my-3 mx-5",attrs:{show:"",variant:"warning"}},[e._v(" Algunos datos han sido rechazados, por favor introduzcalos de nuevo ")]):e._e(),s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.loader?e._e():s(e.currentComponent,{tag:"component",attrs:{requirements:e.levelTwoRequirements},on:{sendRequestStatus:e.getRequestStatus,nextStep:e.nextStep,prevStep:e.prevStep}})],1)],1),s("Loader",{ref:"loader",attrs:{viewMode:!0}})],1)},a=[],o=s("9ab4"),i=s("1b40"),n=s("6bf9"),l=s("34e6"),c=s("221d"),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loader?s("div",{staticClass:"flex align-items-center justify-content-center h-100 w-100"},[s("b-spinner",{staticClass:"primary-spinner"})],1):s("form",{staticClass:"form flex flex-column  align-items-center flex-grow-1 py-4 px-5 px-sm-2 px-md-2 px-lg-2",on:{submit:function(t){return t.preventDefault(),e.submitForm.apply(null,arguments)}}},[s("div",{staticClass:"form-group w-100 mb-4"},[s("label",{staticClass:"flex mb-3"},[e._v(" 1) Explique la procedencia de los fondos que enviará utilizando la plataforma de CriptoRemesa "),s("span",{staticClass:"fw-bold fs-smaller",class:e.$v.localRequirements.funds_source.value.$error||!0===e.localRequirements.funds_source.rejected?"fc-red":null},[e._v("*")])]),s("b-form-textarea",{attrs:{id:"textarea-state",disabled:!1===e.localRequirements.funds_source.rejected,"no-resize":"",placeholder:"Escriba aquí",rows:"3"},model:{value:e.$v.localRequirements.funds_source.value.$model,callback:function(t){e.$set(e.$v.localRequirements.funds_source.value,"$model",t)},expression:"$v.localRequirements.funds_source.value.$model"}}),null!==e.localRequirements.funds_source.rejected?s("div",{class:!0===e.localRequirements.funds_source.rejected?"form-group__invalid":"form-group__success"},[e._v(" Dato "+e._s(!0===e.localRequirements.funds_source.rejected?"rechazado":"aprobado")+" ")]):e._e(),s("div",{staticClass:"form-group__invalid",style:{visibility:e.$v.localRequirements.funds_source.value.$error?"visible":"hidden"}},[e._v(" "+e._s(e.$v.localRequirements.funds_source.value.required?"El texto no debe superar los 100 caracteres":"Campo obligatorio")+" ")])],1),s("div",{staticClass:"form-group w-100 mb-4"},[s("label",{staticClass:"mb-3 mb-3"},[e._v(" 2) Comprobante de residencia - adjunte un documento a su nombre, donde se evidencie su dirección de residencia actual, con un tiempo de emisión no mayor a 3 meses."),s("span",{staticClass:"fw-bold fs-smaller",class:e.$v.localRequirements.residency_proof.value.$invalid||!0===e.localRequirements.residency_proof.rejected?"fc-red":null},[e._v("*")])]),s("b-row",{staticClass:"w-100"},[s("b-col",{staticClass:"d-flex flex-row flex-sm-column justify-content-center mb-3 mb-lg-0 ",attrs:{cols:"12",lg:"4"}},[s("b-row",[s("p",{staticClass:"fs-small mb-3 fw-bold"},[e._v("Por ejemplo:")]),s("div",{staticClass:"d-flex align-items-center mb-1"},[s("div",{staticClass:"list-point mr-2"}),s("p",{staticClass:"fs-small mb-0"},[e._v("Factura de servicios")])]),s("div",{staticClass:"d-flex align-items-center mb-1"},[s("div",{staticClass:"list-point mr-2"}),s("p",{staticClass:"fs-small mb-0"},[e._v("Extracto bancario")])]),s("div",{staticClass:"d-flex align-items-center mb-3"},[s("div",{staticClass:"list-point mr-2"}),s("p",{staticClass:"fs-small mb-0"},[e._v("Carta de residencia")])])]),s("b-row",{staticClass:"d-flex align-items-center"},[s("p",{staticClass:"fs-small mb-0"},[e._v("Incluyendo siempre su nombre completo y dirección de residencia")])])],1),s("b-col",{staticClass:"image-container px-0",attrs:{cols:"12",lg:"8"}},[e.imageAlreadyExists?s("img",{staticClass:"w-50 h-auto",attrs:{src:"data:image;base64, "+e.getImageSrc(e.localRequirements.residency_proof.value)}}):s("InputFile",{attrs:{existImage:e.localRequirements.residency_proof.value,formats:e.formats},on:{getImage:e.getImage}})],1),null!==e.localRequirements.residency_proof.rejected?s("div",{class:!0===e.localRequirements.residency_proof.rejected?"form-group__invalid":"form-group__success"},[e._v(" Dato "+e._s(!0===e.localRequirements.residency_proof.rejected?"rechazado":"aprobado")+" ")]):e._e()],1)],1),s("button",{staticClass:"button primary-button--1--light mt-auto",attrs:{type:"submit"}},[e._v("Siguiente")])])},d=[],m=s("1dce"),p=s("7684"),v=s("8873"),f=s("9613"),h=s("b5ae"),_=s("33d8"),b=s("4417"),q=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loader=!0,t.fundsSource="",t.formats=[],t.imageAlreadyExists=!1,t}return Object(o["d"])(t,e),t.prototype.mounted=function(){this.formats=f["a"],this.localRequirements=this.requirements,!1===this.requirements.residency_proof.rejected&&(this.imageAlreadyExists=!0),this.formats=f["a"],this.loader=!1},t.prototype.getImage=function(e){this.localRequirements.residency_proof.value=e},t.prototype.submitForm=function(){this.$v.$touch(),this.$v.localRequirements.residency_proof.value.$invalid&&this.localRequirements.residency_proof.rejected?this.showImageError():this.$v.$invalid||(this.$emit("sendRequestStatus",this.localRequirements),this.$emit("nextStep"))},t.prototype.getImageSrc=function(e){return e.data?Object(b["a"])(e.data):Object(b["a"])(e)},t.prototype.showImageError=function(){Object(_["f"])("Debe anexar una imagen de su comprobante de residencia ","error")},Object(o["c"])([Object(i["b"])()],t.prototype,"requirements",void 0),t=Object(o["c"])([Object(i["a"])({components:{Toast:p["a"],InputFile:v["a"]},mixins:[m["validationMixin"]],validations:{localRequirements:{funds_source:{value:{required:h["required"],maxLength:Object(h["maxLength"])(100)}},residency_proof:{value:{required:h["required"]}}}}})],t),t}(i["c"]),y=q,g=y,R=s("2877"),j=Object(R["a"])(g,u,d,!1,null,null,null),w=j.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.loader?s("div",{staticClass:"flex align-items-center justify-content-center h-100 w-100"},[s("b-spinner",{staticClass:"primary-spinner"})],1):s("form",{staticClass:"form flex flex-column  align-items-center flex-grow-1 py-4 px-5 px-sm-2 px-md-2 px-lg-2"},[s("b-row",[s("b-col",{staticClass:"form-group mx-auto mb-3",attrs:{cols:"12"}},[s("label",{staticClass:"mb-3"},[e._v(" 3) ¿Qué uso le dará a su cuenta en CriptoRemesa? (Máx. dos opciones)  "),s("span",{staticClass:"fw-bold fs-smaller",class:e.$v.localRequirements.account_uses.value.$invalid||!0===e.localRequirements.account_uses.rejected?"fc-red":null},[e._v("*")])]),s("b-col",{staticClass:"ml-3"},e._l(e.accountUses,(function(t,r){return s("div",{key:r,staticClass:"mb-3 d-flex align-items-center"},[s("div",{staticClass:"check check-secondary mr-2 ",class:t.checked?"check-secondary--active":"",attrs:{id:"option"+r},on:{click:function(s){return e.addAccountUses(t)}}},[s("SvgIcon",{attrs:{name:"check",styles:"icon"}})],1),s("p",{staticClass:"mb-0",attrs:{for:"option"+r}},[e._v(e._s(t.answer))])])})),0),null!==e.localRequirements.account_uses.rejected?s("div",{class:!0===e.localRequirements.account_uses.rejected?"form-group__invalid":"form-group__success"},[e._v(" Dato "+e._s(!0===e.localRequirements.account_uses.rejected?"rechazado":"aprobado")+" ")]):e._e()],1)],1),s("b-row",{staticClass:"w-100"},[s("b-col",{staticClass:"form-group mx-auto mb-3 px-0",attrs:{cols:"12"}},[s("label",{staticClass:"mb-3"},[e._v(" 4) ¿Qué monto estima movilizar mensualmente? (Expresado en dólares americanos USD)  "),s("span",{staticClass:"fw-bold fs-smaller",class:e.localRequirements.monthly_amount.value.length<=0||!0===e.localRequirements.monthly_amount.rejected?"fc-red":null},[e._v("*")])]),s("b-col",{staticClass:"form-group mx-auto ",attrs:{cols:"12",sm:"8",md:"12",lg:"8"}},[s("b-dropdown",{attrs:{disabled:!1===e.localRequirements.monthly_amount.rejected,text:e.localRequirements.monthly_amount.value.length>0?e.localRequirements.monthly_amount.value[0].answer:"",variant:"outline",id:"dropdown-left"}},e._l(e.monthlyAmounts,(function(t,r){return s("b-dropdown-item",{key:r,attrs:{href:"#"},on:{click:function(s){return e.checkSimpleQuestion(t)}}},[e._v(" "+e._s(t.answer)+" ")])})),1)],1),null!==e.localRequirements.monthly_amount.rejected?s("div",{class:!0===e.localRequirements.monthly_amount.rejected?"form-group__invalid":"form-group__success"},[e._v(" Dato "+e._s(!0===e.localRequirements.monthly_amount.rejected?"rechazado":"aprobado")+" ")]):e._e()],1)],1),s("div",{staticClass:"d-flex flex-wrap justify-content-around w-100 mt-5"},[s("div",{staticClass:" m-2 button secondary-button--1",on:{click:function(t){return e.goBack()}}},[e._v("Regresar")]),s("button",{staticClass:" m-2 button primary-button--1--light",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.submit()}}},[e._v("Completar verificación")])]),s("Loader",{ref:"loader",attrs:{viewMode:!0}})],1)},C=[],S=s("ba91"),E=s("0a4f"),O=s("a15e"),$=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loader=!0,t.moneyOrigin="",t.monthlyAmount={text:""},t.counter=3,t.showQuestions=!1,t.submitForm=!1,t.$refs={},t.accountUses=[],t.monthlyAmounts=[],t.localLevelQuestions=[],t}return Object(o["d"])(t,e),t.prototype.created=function(){return Object(o["b"])(this,void 0,void 0,(function(){var e=this;return Object(o["e"])(this,(function(t){switch(t.label){case 0:return this.localRequirements=this.requirements,[4,this.fetchQuestions()];case 1:return t.sent(),this.localLevelQuestions=this.levelQuestions,this.accountUses=this.levelQuestions[0].answers,this.monthlyAmounts=this.levelQuestions[1].answers,this.accountUses.forEach((function(t){e.localRequirements.account_uses.value.find((function(e){return e.id_level_answer===t.id_level_answer}))?t.checked=!0:t.checked=!1})),this.loader=!1,[2]}}))}))},t.prototype.goBack=function(){this.$emit("prevStep")},t.prototype.addAccountUses=function(e){!1!==this.localRequirements.account_uses.rejected&&(this.localRequirements.account_uses.value.length>=2?!0===e.checked?(e.checked=!1,this.localRequirements.account_uses.value=this.localRequirements.account_uses.value.filter((function(t){return t.id_level_answer!==e.id_level_answer}))):Object(_["f"])("Puede seleccionar máximo dos opciones","error"):(e.checked=!e.checked,e.checked?this.localRequirements.account_uses.value.push(e):this.localRequirements.account_uses.value=this.localRequirements.account_uses.value.filter((function(t){return t.id_level_answer!==e.id_level_answer}))),this.$forceUpdate())},t.prototype.checkSimpleQuestion=function(e){this.localRequirements.monthly_amount.value[0]=e,this.$forceUpdate()},t.prototype.submit=function(){return Object(o["b"])(this,void 0,void 0,(function(){return Object(o["e"])(this,(function(e){switch(e.label){case 0:return this.$v.$touch,this.submitForm=!0,!this.$v.$invalid&&this.localRequirements.monthly_amount.value.length>0?(this.$refs.loader.showLoader(),this.localLevelQuestions[0].answers=this.localRequirements.account_uses.value,this.localLevelQuestions[1].answers=this.localRequirements.monthly_amount.value,this.localRequirements.answers=this.localLevelQuestions,[4,this.requestLevelTwo(this.localRequirements)]):[3,2];case 1:return e.sent()?(Object(_["f"])("Se ha enviado la solicitud exitosamente","success"),this.$router.push({name:"LevelSuccess"})):Object(_["f"])("Ha ocurrido un error procesando su solicitud","error"),this.$refs.loader.hideLoader(),[3,3];case 2:Object(_["f"])("Debe responder todas las preguntas","error"),e.label=3;case 3:return[2]}}))}))},Object(o["c"])([Object(i["b"])()],t.prototype,"requirements",void 0),Object(o["c"])([E["d"].Getter(O["a"].getters.GET_LEVELS_QUESTIONS)],t.prototype,"levelQuestions",void 0),Object(o["c"])([E["d"].Action(O["a"].actions.FETCH_LEVELS_QUESTIONS)],t.prototype,"fetchQuestions",void 0),Object(o["c"])([E["d"].Getter(O["a"].getters.GET_REQUEST_LEVEL_TWO)],t.prototype,"leveltwoRequirements",void 0),Object(o["c"])([E["d"].Action(O["a"].actions.REQUEST_LEVEL_TWO)],t.prototype,"requestLevelTwo",void 0),t=Object(o["c"])([Object(i["a"])({components:{Toast:p["a"],InputFile:v["a"],SvgIcon:S["a"],Loader:n["a"]},mixins:[m["validationMixin"]],validations:{localRequirements:{account_uses:{value:{required:h["required"],minLength:Object(h["minLength"])(1)}}}}})],t),t}(i["c"]),L=$,k=L,T=Object(R["a"])(k,x,C,!1,null,null,null),I=T.exports,Q=s("9623"),U=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelTwoRequirements={email_user:{value:""},funds_source:{value:"",rejected:null},residency_proof:{value:"",rejected:null},account_uses:{value:[],rejected:null},monthly_amount:{value:[],rejected:null},answers:[]},t.steps=[{component:"FirstStep",label:""},{component:"SecondStep",label:""}],t.currentComponent=t.steps[0].component,t.currentStep=1,t.$refs={},t.someFieldsRejected=!1,t.alreadyRejected=!1,t.loader=!0,t}return Object(o["d"])(t,e),t.prototype.mounted=function(){return Object(o["b"])(this,void 0,void 0,(function(){var e=this;return Object(o["e"])(this,(function(t){switch(t.label){case 0:return this.$refs.loader.showLoader(),[4,this.fetchVerifLevelReqs(this.userData.email_user)];case 1:return t.sent()?(this.levelTwoRequirements.email_user.value=this.userData.email_user,null===this.verifLevelReqs.level_one&&(Object(_["f"])("Usuario no autorizado para aumento de nivel","error"),this.$router.push({name:"VerificationLevelsFeatures"})),null!==this.verifLevelReqs.level_two&&(this.someFieldsRejected=!0,this.verifLevelReqs.level_two.forEach((function(t){""!==t.req_use_path?e.levelTwoRequirements[t.req_type].value=t.req_use_path:e.levelTwoRequirements[t.req_type].value=t.req_type_value,null===t.req_confirm_action?e.alreadyRejected=!0:!1===t.req_confirm_action?e.levelTwoRequirements[t.req_type].rejected=!0:!0===t.req_confirm_action&&(e.levelTwoRequirements[t.req_type].rejected=!1)}))),this.alreadyRejected&&(Object(_["f"])("Usted ya ha solicitado la verificación avanzada","error"),this.$router.push({name:"VerificationLevelsFeatures"})),this.loader=!1,this.$refs.loader.hideLoader()):(Object(_["f"])("Ha ocurrido un error","error"),this.$router.push("/")),[2]}}))}))},t.prototype.getRequestStatus=function(e){this.levelTwoRequirements=e},t.prototype.nextStep=function(){this.$refs.step.moveStep(this.currentStep+1),this.currentStep+=1,this.currentComponent=this.steps[this.currentStep-1].component},t.prototype.prevStep=function(){this.$refs.step.moveStep(this.currentStep-1),this.currentStep-=1,this.currentComponent=this.steps[this.currentStep-1].component},Object(o["c"])([E["a"].Getter(Q["a"].getters.GET_USER_DATA)],t.prototype,"userData",void 0),Object(o["c"])([E["d"].Action(O["a"].actions.FETCH_VERIF_LEVEL_REQUIREMENTS)],t.prototype,"fetchVerifLevelReqs",void 0),Object(o["c"])([E["d"].Getter(O["a"].getters.GET_VERIF_LEVEL_REQUIREMENTS)],t.prototype,"verifLevelReqs",void 0),t=Object(o["c"])([Object(i["a"])({components:{Loader:n["a"],Stepper:l["a"],InfoSide:c["a"],FirstStep:w,SecondStep:I}})],t),t}(i["c"]),F=U,A=F,z=Object(R["a"])(A,r,a,!1,null,null,null);t["default"]=z.exports}}]);
//# sourceMappingURL=chunk-c6ed298e.d1f96e47.js.map