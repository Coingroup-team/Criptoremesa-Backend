{"version":3,"sources":["webpack:///./src/modules/auth/views/baseAuth/LevelCeroVerification.vue?221b","webpack:///./src/modules/auth/views/baseAuth/LevelCeroVerification.vue?c649","webpack:///./src/modules/auth/views/baseAuth/LevelCeroVerification.vue?01c7","webpack:///./src/modules/auth/views/baseAuth/LevelCeroVerification.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","email","class","inputDisabled","on","onChange","onComplete","ref","validCode","showExpiredText","_e","emailSended","$event","sendEmailRequest","expiredCode","preventDefault","invalidCode","staticStyle","phone","$router","go","verif","staticRenderFns","spinner","$refs","user","created","userData","email_user","$route","params","push","name","main_phone_code","main_phone","$socket","client","emit","isCodeValid","v","code","response","msg","loader","showLoader","sendEmail","type","error","hideLoader","verifClient","store","state","auth","userSignUp","Action","actions","VERIF_CLIENT","Getter","getters","GET_REGISTER_USER_DATA","GET_COUNTRY_PHONE_CODE","SEND_EMAIL","LevelCeroVerification","components","InfoSide","CodeInput","Loader","Timer","component"],"mappings":"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","file":"js/chunk-2d0ab699.62124a23.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"view mx-0\"},[_c('b-col',{staticClass:\"min-vh-100\",attrs:{\"cols\":\"12\",\"md\":\"5\"}},[_c('InfoSide',{staticClass:\"px-5\",attrs:{\"title\":\"Verifica tu correo y teléfono móvil\",\"subtitle\":\"Y comienza a enviar remesas a Venezuela desde el país de tu residencia\",\"image\":\"verification\",\"darkMode\":true}})],1),_c('b-col',{staticClass:\"flex flex-column\\n            align-items-center\\n            justify-content-center\\n            p-5\\n            min-vh-100\",attrs:{\"cols\":\"12\",\"md\":\"7\"}},[_c('div',{staticClass:\"my-auto\"},[_c('div',{staticClass:\"flex flex-column align-items-start\"},[_c('div',{staticClass:\"title align-self-center align-self-lg-start\"},[_vm._v(\"Correo electrónico\")]),_c('div',{staticClass:\"mt-3 text-align-justify\"},[_vm._v(\" Pulsa 'enviar' y te enviaremos un código de 6 dígitos al correo electrónico \"),_c('span',{staticClass:\"fw-bold\"},[_vm._v(_vm._s(_vm.email))]),_vm._v(\" para verificar tus datos. Tienes un tiempo máximo de 4 minutos para realizar esta operación. \")]),_c('div',{staticClass:\"\\n                        flex-column\\n                        flex-lg-row\\n                        align-items-center\\n                        justify-content-between\\n                        mt-3\\n                        mx-auto mx-lg-0\\n                    \"},[_c('CodeInput',{staticClass:\"input\",class:_vm.inputDisabled ? 'disabled' : '',attrs:{\"loading\":false,\"autoFocus\":false},on:{\"change\":_vm.onChange,\"complete\":_vm.onComplete}}),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.emailSended)?_c('Timer',{ref:\"timer\",staticClass:\"mx-3 mt-3 mt-lg-0\",attrs:{\"isCorrect\":_vm.validCode,\"timeLimit\":240},on:{\"showExpiredText\":_vm.showExpiredText}}):_vm._e()],1),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(!_vm.emailSended)?_c('div',{staticClass:\"button primary-button--2 mx-0 mx-lg-3 mt-3 mt-lg-0\",on:{\"click\":function($event){return _vm.sendEmailRequest()}}},[_vm._v(\" Enviar código \")]):_vm._e()])],1),_c('b-row',[(_vm.expiredCode & _vm.emailSended)?_c('span',{staticClass:\"fs-small mt-3 d-flex\"},[_vm._v(\"El tiempo ha expirado, \"),_c('div',{staticClass:\"ml-1 fs-small link\",on:{\"click\":function($event){$event.preventDefault();return _vm.sendEmailRequest()}}},[_vm._v(\"Reenviar código\")])]):(_vm.invalidCode & _vm.emailSended)?_c('span',{staticClass:\"fs-small fc-red mt-3\"},[_vm._v(\"Código inválido, intente de nuevo\")]):_c('span',{staticClass:\"fs-small fc-red mt-3\",staticStyle:{\"visibility\":\"hidden\"}},[_vm._v(\"sdfsf\")])])],1),_c('div',{staticClass:\"flex flex-column align-items-start mt-3\"},[_c('div',{staticClass:\"title align-self-center align-self-lg-start\"},[_vm._v(\"Telefono móvil\")]),_c('div',{staticClass:\"mt-3 text-align-justify\"},[_vm._v(\" Pulsa 'enviar' y te enviaremos un código de 6 dígitos al número de celular \"),_c('span',{staticClass:\"fw-bold\"},[_vm._v(_vm._s(_vm.phone))]),_vm._v(\" para verificar tus datos. Tienes un tiempo máximo de 4 minutos para realizar esta operación. \")]),_c('div',{staticClass:\"\\n                        flex-column\\n                        flex-lg-row\\n                        align-items-center\\n                        justify-content-between\\n                        mt-3\\n                        mx-auto mx-lg-0\\n                    \"},[_c('CodeInput',{staticClass:\"input\",attrs:{\"loading\":false,\"autoFocus\":false},on:{\"change\":_vm.onChange,\"complete\":_vm.onComplete}}),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}}),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c('div',{staticClass:\"button primary-button--2 mx-0 mx-lg-3 mt-3 mt-lg-0\"},[_vm._v(\" Enviar código \")])])],1)])]),_c('div',{staticClass:\"\\n                flex\\n                flex-wrap flex-md-nowrap\\n                align-items-center\\n                justify-content-center\\n                justify-content-md-end\\n                align-self-end\\n                mt-5\\n                mx-auto mx-md-0\\n            \"},[_c('div',{staticClass:\"button secondary-button--1 mx-3 mt-3\"},[_vm._v(\"Cancelar\")]),_c('div',{staticClass:\"button primary-button--1--light mx-3 mt-3\",on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\" Regresar \")]),_c('div',{staticClass:\"button primary-button--1 mx-3 mt-3\",on:{\"click\":_vm.verif}},[_c('b',[_vm._v(\"Verificar\")])])])]),_c('Loader',{ref:\"loader\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from 'vue-property-decorator';\nimport InfoSide from '@/components/InfoSide.vue';\nimport CodeInput from 'vue-verification-code-input';\nimport { hideEmail, hidePhoneNumber, showToast } from '@/utils/global-functions';\nimport { auth } from '@/store/namespaces';\nimport AuthMethods from '@/store/auth/methods/auth.methods';\nimport { User } from '@/modules/auth/interfaces/user.interface';\nimport { USER_EMPTY_STATE } from '../../emptyStates/user.emptyState';\nimport Loader from '@/components/utilities/Loader.vue';\nimport store from '@/store';\nimport Timer from '@/components/utilities/Timer.vue';\n\n@Component({\n    components: {\n        InfoSide,\n        CodeInput,\n        Loader,\n        Timer\n    },\n})\nexport default class LevelCeroVerification extends Vue {\n    email = '';\n    phone = '';\n    spinner: boolean = false;\n    $refs : any ={}\n\n    user: User = USER_EMPTY_STATE;\n\n    inputDisabled = false;\n    expiredCode = false;\n    invalidCode = false;\n    validCode = false;\n    emailSended = false;\n\n    created() {\n        if (this.userData.email_user){\n            this.user = this.userData;\n        }else if (this.$route.params.email){\n            this.user.email_user = this.$route.params.email\n        }\n        else this.$router.push({name: 'Login'})\n        this.email = hideEmail(this.user.email_user);\n        this.phone = hidePhoneNumber(this.user.main_phone_code,this.user.main_phone);\n        this.$socket.client.emit('new_connection', this.user.email_user) \n        this.$socket.client.on('verif_code_response',this.isCodeValid)\n    }\n\n    onChange(v: any) {\n       this.expiredCode = false;\n       this.invalidCode = false;\n    }\n    onComplete(code: any) {\n        this.expiredCode = false;\n        this.invalidCode = false;\n        this.$socket.client.emit('verif_code', {\n            email_user: this.user.email_user,\n            code: code\n        })\n       \n    }\n\n    isCodeValid(response: {msg: string}){\n        if (response.msg ==='Valid code'){\n                this.inputDisabled = true;\n                this.validCode = true;\n        }\n        else if (response.msg ==='Expired code'){\n                this.expiredCode = true;\n                this.invalidCode = false;\n        }\n        else if (response.msg ==='Invalid code'){\n                this.invalidCode = true;\n                this.expiredCode = false;\n        }\n        else if (response.msg ==='Time started'){\n            this.emailSended = true;\n        }\n    }\n\n    showExpiredText(){\n        this.expiredCode = true;\n    }\n\n    async sendEmailRequest(){\n        this.emailSended = false;\n        this.$refs.loader.showLoader();\n        let response = await this.sendEmail({email_user: this.user.email_user, type: 'register'});\n        if (response.error)\n            showToast(response.msg,'error')\n        else{\n            showToast('Correo enviado satisfactoriamente', 'success')\n            this.emailSended = true;\n        }\n        this.$refs.loader.hideLoader();\n        this.expiredCode = false;\n    }\n\n    async verif() {\n        if (this.validCode){\n            this.$refs.loader.showLoader();\n            if (await this.verifClient(this.user.email_user)) {\n                store.state.auth.userSignUp = USER_EMPTY_STATE;\n                this.$router.push('/registro/exitoso');\n            }\n            else showToast('Ha ocurrido un problema verificando la cuenta','error')\n            this.$refs.loader.hideLoader();\n        }else \n            showToast('Debe ingresar los código solicitados', 'error')\n    }\n\n\n\n    @auth.Action(AuthMethods.actions.VERIF_CLIENT)\n    verifClient!: (email: string) => Promise<boolean>;\n    @auth.Getter(AuthMethods.getters.GET_REGISTER_USER_DATA)\n    userData!: User;\n    @auth.Getter(AuthMethods.getters.GET_COUNTRY_PHONE_CODE)\n    countryCode!: string;\n    @auth.Action(AuthMethods.actions.SEND_EMAIL)\n    sendEmail!: (data:{email_user: string, type: string}) => Promise<{error: boolean, msg: string}>\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LevelCeroVerification.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LevelCeroVerification.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LevelCeroVerification.vue?vue&type=template&id=21851f7e&\"\nimport script from \"./LevelCeroVerification.vue?vue&type=script&lang=ts&\"\nexport * from \"./LevelCeroVerification.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}