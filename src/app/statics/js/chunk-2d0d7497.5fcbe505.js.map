{"version":3,"sources":["webpack:///./src/modules/verificationLevels/views/LevelOne.vue?e36e","webpack:///./src/modules/verificationLevels/views/LevelOne.vue?2f93","webpack:///./src/modules/verificationLevels/views/LevelOne.vue?51a9","webpack:///./src/modules/verificationLevels/views/LevelOne.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","ref","model","value","callback","$$v","steps","expression","_v","_e","currentComponent","tag","levelOneRequirements","on","nextStep","prevStep","staticRenderFns","date_birth","rejected","state_name","resid_city","pol_exp_per","email_user","id_ident_doc_type","ident_doc_number","occupation","doc","undefined","selfie","main_sn_platf","user_main_sn_platf","registerButton","name","text","level","redirect","$refs","component","label","currentStep","alreadyRequested","requestInPogress","mounted","loader","showLoader","userData","fetchVerifLevelReqs","verifLevelReqs","level_one","forEach","el","req_use_path","req_type","req_type_value","req_confirm_action","length","JSON","parse","$router","push","substring","hideLoader","step","moveStep","Getter","getters","GET_USER_DATA","Action","actions","FETCH_VERIF_LEVEL_REQUIREMENTS","GET_VERIF_LEVEL_REQUIREMENTS","LevelOne","components","Header","InfoSide","Stepper","FirstStep","SecondStep","ThirdStep","Loader"],"mappings":"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","file":"js/chunk-2d0d7497.5fcbe505.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-row',{staticClass:\"view view__header mx-0\"},[_c('b-col',{staticClass:\"mx-0 px-0 min-h-100\",attrs:{\"cols\":\"12\",\"md\":\"5\"}},[_c('InfoSide',{staticClass:\"h-100\",attrs:{\"title\":\"Verificación intermedia\",\"subtitle\":\"Completa el formulario de verificación de datos en el nivel intermedio y obten mejores beneficios\",\"image\":\"verification\",\"darkMode\":true}})],1),_c('b-col',{staticClass:\"py-5 px-2 px-md-5 min-h-100\",attrs:{\"cols\":\"12\",\"md\":\"7\"}},[_c('Stepper',{ref:\"step\",model:{value:(_vm.steps),callback:function ($$v) {_vm.steps=$$v},expression:\"steps\"}}),(_vm.alreadyRequested)?_c('b-alert',{staticClass:\"fs-small my-3 mx-5\",attrs:{\"show\":\"\",\"variant\":\"warning\"}},[_vm._v(\" Algunos datos han sido rechazados, por favor introduzcalos de nuevo \")]):_vm._e(),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[_c(_vm.currentComponent,{tag:\"component\",attrs:{\"levelOneRequirements\":_vm.levelOneRequirements},on:{\"nextStep\":_vm.nextStep,\"prevStep\":_vm.prevStep}})],1)],1),_c('Loader',{ref:\"loader\",attrs:{\"viewMode\":true}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\nimport Header from '@/components/layout/Header.vue';\nimport InfoSide from '@/components/InfoSide.vue';\nimport Stepper from '@/components/utilities/Stepper.vue';\nimport FirstStep from '@/modules/verificationLevels/components/levelOne/FirstStep.vue'\nimport SecondStep from '@/modules/verificationLevels/components/levelOne/SecondStep.vue'\nimport ThirdStep from '@/modules/verificationLevels/components/levelOne/ThirdStep.vue'\nimport { auth, verifLevels } from '@/store/namespaces';\nimport AuthMethods from '@/store/auth/methods/auth.methods';\nimport VerifLevelMethods from '@/store/verificationLevels/methods/verificationLevels.methods';\nimport { User } from '../../auth/interfaces/user.interface';\nimport { VerifLevelReq } from '../interfaces/requirement.interface';\nimport { showToast } from '@/utils/global-functions';\nimport Loader from '@/components/utilities/Loader.vue';\nimport { isoDateToDDMMYYYY } from '@/utils/date-functions';\n\n\n@Component({\n    components: {\n        Header,\n        InfoSide,\n        Stepper,\n        FirstStep,\n        SecondStep,\n        ThirdStep,\n        Loader\n    },\n})\nexport default class LevelOne extends Vue {\n\n   levelOneRequirements = {\n        date_birth: {\n            value: '',\n            rejected: null\n        },\n        state_name: {\n            value: '',\n            rejected: null\n        },\n        resid_city: {\n            value: '',\n            rejected: null\n        },\n        pol_exp_per: {\n            value: null,\n            rejected: null\n        },\n        email_user: {\n            value: '',\n            rejected: null\n        },\n        id_ident_doc_type: {\n            value: '',\n            rejected: null\n        },\n        ident_doc_number: {\n            value: '',\n            rejected: null\n        },\n        occupation: {\n            value: '',\n            rejected: null\n        },\n        doc: {\n            value: undefined,\n            rejected: null\n        },\n        selfie: {\n            value: undefined,\n            rejected: null\n        },\n        main_sn_platf: {\n            value: '',\n            rejected: null\n        },\n        user_main_sn_platf: {\n            value: '',\n            rejected: null\n        }\n    }\n\n    registerButton = {\n        name: 'Iniciar sesión',\n        text: '¿Ya tienes una cuenta?',\n        level: 2,\n        redirect: '/inicio-sesion',\n    };\n    $refs : any ={}\n    steps= [\n        { component: 'FirstStep', label: 'Datos' },\n        { component: 'SecondStep', label: 'Documento de identidad' },\n        { component: 'ThirdStep', label: 'Verificación' }\n    ];\n    currentComponent = this.steps[0].component;\n    currentStep = 1;\n    alreadyRequested = false;\n    requestInPogress = false;\n\n    async mounted(){\n      this.$refs.loader.showLoader();\n        this.levelOneRequirements.email_user.value = this.userData.email_user\n        if (await this.fetchVerifLevelReqs(this.userData.email_user)){\n            if (this.verifLevelReqs.level_one !== null){\n                this.verifLevelReqs.level_one.forEach(el =>{\n                    if (el.req_use_path !== \"\"){\n                        this.levelOneRequirements[el.req_type].value = el.req_use_path}\n                    else{\n                        this.levelOneRequirements[el.req_type].value = el.req_type_value}\n                    if (el.req_confirm_action === null) this.requestInPogress = true;\n                    if (el.req_confirm_action === false){ \n                        this.alreadyRequested = true\n                        this.levelOneRequirements[el.req_type].rejected = true;\n                    }\n                    else if (el.req_confirm_action === true)\n                        this.levelOneRequirements[el.req_type].rejected = false;\n                })\n                if (this.levelOneRequirements.pol_exp_per.value.length >0) \n                    this.levelOneRequirements.pol_exp_per.value = JSON.parse(this.levelOneRequirements.pol_exp_per.value)\n                if (this.requestInPogress){\n                    showToast('Su solicitud de nivel Intemedio se encuentra en revisión', 'error');\n                    this.$router.push({name: 'VerificationLevelsFeatures'})\n                }\n                if (!this.alreadyRequested && !this.requestInPogress) this.$router.push({name: '404'})\n                if (this.levelOneRequirements.user_main_sn_platf.value.length && this.levelOneRequirements.user_main_sn_platf.value[0] === '@'){ \n                    this.levelOneRequirements.user_main_sn_platf.value = this.levelOneRequirements.user_main_sn_platf.value.substring(1)}\n                    this.levelOneRequirements.date_birth.value = isoDateToDDMMYYYY(this.levelOneRequirements.date_birth.value)\n            }\n        }\n        else {\n            showToast('Ha ocurrido un error', 'error');\n            this.$router.push('/')\n        }\n      this.$refs.loader.hideLoader();\n    }\n\n    nextStep(){\n        this.$refs.step.moveStep(this.currentStep+1);\n        this.currentStep += 1;\n        this.currentComponent= this.steps[this.currentStep-1].component;\n    }\n\n    prevStep(){\n        this.$refs.step.moveStep(this.currentStep-1);\n        this.currentStep -= 1;\n        this.currentComponent= this.steps[this.currentStep-1].component;\n    }\n\n    @auth.Getter(AuthMethods.getters.GET_USER_DATA)\n    userData!: User;\n    @verifLevels.Action(VerifLevelMethods.actions.FETCH_VERIF_LEVEL_REQUIREMENTS)\n    fetchVerifLevelReqs!: (emailUser: string) => Promise<boolean>\n    @verifLevels.Getter(VerifLevelMethods.getters.GET_VERIF_LEVEL_REQUIREMENTS)\n    verifLevelReqs!: {level_one: VerifLevelReq[], level_two: VerifLevelReq[], email_user: string}\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LevelOne.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/ts-loader/index.js??ref--12-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LevelOne.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LevelOne.vue?vue&type=template&id=613399ff&\"\nimport script from \"./LevelOne.vue?vue&type=script&lang=ts&\"\nexport * from \"./LevelOne.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}